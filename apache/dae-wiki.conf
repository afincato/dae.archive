<VirtualHost *:80>
  # => /home/<usr>/wiki/ ?
	UserDir ~/wiki

	ServerAdmin wiki-master@localhost
	DocumentRoot /wiki

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

	ProxyPass "/api" "http://wiki:5000"
	ProxyPassReverse "/api" "http://wiki:5000"

  # double check with frontend route
	ProxyPass "/search" "http://solr:8983/solr/dae-wiki/query"
 
  Header set Access-Control-Allow-Origin "*"

  Header always set Access-Control-Max-Age "1000"
  Header always set Access-Control-Allow-Headers "X-Requested-With, Content-Type, Origin, Authorization, Accept, Client-Security-Token, Accept-Encoding"
  Header always set Access-Control-Allow-Methods "POST, GET, OPTIONS, DELETE, PUT"	

  IndexOptions FancyIndexing FoldersFirst HTMLTable IconsAreLinks SuppressDescription
  IndexStyleSheet /jbg/apache/autoindex.css
  ReadmeName /jbg/apache/removeFiles.html

</VirtualHost>